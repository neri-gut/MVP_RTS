[gd_scene load_steps=14 format=3 uid="uid://cw7eo1wvnpb5u"]

[ext_resource type="Script" uid="uid://cvp18j1m4lh5w" path="res://game/levels/camera_root_node_3d.gd" id="1_8tovj"]
[ext_resource type="Script" uid="uid://mt5kve13uha4" path="res://game/levels/camera_mover.gd" id="2_6eyxv"]
[ext_resource type="PackedScene" uid="uid://bs0mfi6k5lh7w" path="res://assets/models/GodotRobot3D/Godot_robot_3D.tscn" id="2_3206d"]
[ext_resource type="Texture2D" uid="uid://chcwabxd4hmgn" path="res://assets/terrain_data_new/global_albedo.png" id="3_677gk"]
[ext_resource type="Script" uid="uid://c453fhq6v6gef" path="res://game/levels/unit_selector.gd" id="3_qexh0"]
[ext_resource type="Script" uid="uid://bwf8rlonah6kp" path="res://game/levels/game_ui.gd" id="4_d0su2"]
[ext_resource type="Script" uid="uid://dogrmfdtgrbbp" path="res://game/levels/selection_draw.gd" id="5_d0su2"]
[ext_resource type="PackedScene" uid="uid://du831rj75bgt3" path="res://assets/models/Unit_Enemy/Unit_Enemy.tscn" id="6_wfosb"]

[sub_resource type="ProceduralSkyMaterial" id="ProceduralSkyMaterial_fpuid"]

[sub_resource type="Sky" id="Sky_8tovj"]
sky_material = SubResource("ProceduralSkyMaterial_fpuid")

[sub_resource type="Environment" id="Environment_3206d"]
background_mode = 2
sky = SubResource("Sky_8tovj")

[sub_resource type="NavigationMesh" id="NavigationMesh_wfosb"]
vertices = PackedVector3Array(-124.5, 1, -124.5, -124.5, 1, 124.5, 124.5, 1, 124.5, 124.5, 1, -124.5)
polygons = [PackedInt32Array(3, 2, 0), PackedInt32Array(0, 2, 1)]

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_0dixe"]
shading_mode = 2
albedo_texture = ExtResource("3_677gk")
uv1_scale = Vector3(128, 128, 128)

[node name="MainLevel" type="Node3D"]

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="."]
transform = Transform3D(-0.3698036, 0.6256304, -0.68690026, 0.32950735, 0.7795666, 0.53263557, 0.86871755, -0.029368162, -0.4944363, -0.28186893, 21.41636, -0.052125454)
shadow_enabled = true
directional_shadow_mode = 0

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_3206d")

[node name="CameraRoot-Node3D" type="Node3D" parent="." node_paths=PackedStringArray("game_ui")]
transform = Transform3D(0.9832103, 0, 0.18247578, 0, 1, 0, -0.18247578, 0, 0.9832103, 0, 0, 0)
script = ExtResource("1_8tovj")
game_ui = NodePath("../GameUI")

[node name="Elevation" type="Node3D" parent="CameraRoot-Node3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 20, 0)

[node name="Camera3D" type="Camera3D" parent="CameraRoot-Node3D/Elevation"]
transform = Transform3D(1, 0, 0, 0, 0.57357645, 0.81915206, 0, -0.81915206, 0.57357645, 0, 0, 0)

[node name="CameraMover" type="Node" parent="CameraRoot-Node3D"]
script = ExtResource("2_6eyxv")

[node name="UnitSelector" type="Node" parent="CameraRoot-Node3D" node_paths=PackedStringArray("game_ui")]
script = ExtResource("3_qexh0")
game_ui = NodePath("../../GameUI")

[node name="GodotRobot3d" parent="." instance=ExtResource("2_3206d")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 10.410366, 0, 15.079613)

[node name="NavigationRegion3D" type="NavigationRegion3D" parent="."]
navigation_mesh = SubResource("NavigationMesh_wfosb")

[node name="CSGBox3D" type="CSGBox3D" parent="NavigationRegion3D"]
use_collision = true
size = Vector3(250, 1, 250)
material = SubResource("StandardMaterial3D_0dixe")

[node name="GameUI" type="CanvasLayer" parent="."]
script = ExtResource("4_d0su2")

[node name="SelectionBox" type="Control" parent="GameUI"]
layout_mode = 3
anchors_preset = 0
offset_right = 1280.0
offset_bottom = 720.0
mouse_filter = 2
script = ExtResource("5_d0su2")

[node name="BtnDeselect" type="Button" parent="GameUI"]
anchors_preset = 7
anchor_left = 0.5
anchor_top = 1.0
anchor_right = 0.5
anchor_bottom = 1.0
offset_left = -32.5
offset_top = -65.0
offset_right = 32.5
grow_horizontal = 2
grow_vertical = 0
text = "X"

[node name="BtnSelectMode" type="Button" parent="GameUI"]
anchors_preset = 7
anchor_left = 0.5
anchor_top = 1.0
anchor_right = 0.5
anchor_bottom = 1.0
offset_left = 37.0
offset_top = -65.0
offset_right = 116.0
grow_horizontal = 2
grow_vertical = 0
toggle_mode = true
text = "Selection 
Mode"

[node name="UnitEnemy" parent="." instance=ExtResource("6_wfosb")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 21.734776, 0, -60.026184)

[node name="UnitEnemy2" parent="." instance=ExtResource("6_wfosb")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 19.679583, 0, -65.46349)

[node name="UnitEnemy3" parent="." instance=ExtResource("6_wfosb")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 19.865757, 0, -60.20649)
